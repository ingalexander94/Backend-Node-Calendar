{"version":3,"sources":["types/types.js","reducers/uiReducer.js","reducers/calendarReducer.js","reducers/authReducer.js","store/store.js","router/PrivateRouter.js","router/PublicRouter.js","hooks/useForm.js","helpers/fetch.js","alerts/alerts.js","actions/ui.js","actions/auth.js","components/auth/LoginScreen.js","helpers/date.js","actions/calendar.js","components/ui/Navbar.js","helpers/calendar-spanish.js","components/calendar/CalendarEvent.js","components/calendar/CalendarModal.js","components/ui/ButtonFloating.js","components/ui/ButtonDelete.js","components/calendar/CalendarScreen.js","router/AppRouter.js","CalendarApp.js","index.js"],"names":["types","initState","modalOpen","loading","events","active","cheking","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","ui","state","actions","type","calendar","payload","map","event","id","filter","auth","store","createStore","applyMiddleware","thunk","PrivateRouter","isAuthenticated","Component","component","res","props","to","PublicRouter","useForm","initialState","useState","values","setValues","reset","newInitialState","handleInputChange","target","name","value","URL_BACKEND","process","fetchWithoutToken","endopoint","data","method","fetch","headers","body","JSON","stringify","fetchWithToken","token","localStorage","getItem","Toast","Swal","mixin","toast","position","showConfirmButton","timer","timerProgressBar","onOpen","addEventListener","stopTimer","resumeTimer","showAlert","icon","title","fire","openModals","startLoading","finishLoading","login","user","logout","finishCheking","LoginScreen","emailLogin","passwordLogin","valuesLogin","handleInputChangeLogin","resetLogin","nameRegister","emailRegister","passwordRegister","password2Register","valuesRegister","handleInputChangeRegister","resetRegister","dispatch","useDispatch","useSelector","isFormValid","email","password","validator","isEmail","length","isEmpty","className","onSubmit","e","preventDefault","a","json","ok","msg","uid","setItem","Date","getTime","onChange","placeholder","nameR","toDate","start","moment","end","cleanerActive","addEvent","loadEvents","updateEvent","deleteEvent","Navbar","src","width","height","alt","onClick","clear","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","CalendarEvent","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","minutes","seconds","add","addNow","clone","CalendarModal","initDates","startDate","setStartDate","endDate","setEndDate","isValid","setIsValid","note","useEffect","closeModal","isOpen","onRequestClose","style","closeTimeoutMS","overlayClassName","newEvent","editEvent","momentStart","momentEnd","isSameOrAfter","trim","console","log","getState","_id","minDate","autoComplete","maxLength","rows","ButtonFloating","ButtonDelete","localizer","momentLocalizer","locale","CalendarScreen","lastView","setLastView","setInitDates","myEventsList","startAccessor","endAccessor","eventPropGetter","isSelected","backgroundColor","border","opacity","color","textAlign","components","onSelectEvent","onDoubleClickEvent","onSelectSlot","selectable","onView","view","AppRouter","path","CalendarApp","ReactDOM","render","document","getElementById"],"mappings":"oNAAaA,EACA,kBADAA,EAEC,mBAFDA,EAGG,qBAHHA,EAII,sBAJJA,EAME,0BANFA,EAOI,4BAPJA,EAQI,4BARJA,EASD,uBATCA,EAUE,0BAVFA,EAWE,0BAXFA,EAYC,yBAZDA,EAcI,wBAdJA,EAeC,qBAfDA,EAgBJ,oBAhBIA,EAiBH,qBCfJC,EAAY,CAChBC,WAAW,EACXC,SAAS,G,QCFLF,EAAY,CAChBG,OAAQ,GACRC,OAAQ,MCFJJ,EAAY,CAChBK,SAAS,GCGLC,EACe,qBAAXC,QACNA,OAAOC,sCACTC,IAEIC,EAAcC,YAAgB,CAClCC,GHLuB,WAAiC,IAAhCC,EAA+B,uDAAvBb,EAAWc,EAAY,uCACvD,OAAQA,EAAQC,MACd,KAAKhB,EACH,OAAO,2BACFc,GADL,IAEEZ,WAAW,IAGf,KAAKF,EACH,OAAO,2BACFc,GADL,IAEEZ,WAAW,IAGf,KAAKF,EACH,OAAO,2BACFc,GADL,IAEEX,SAAS,IAGb,KAAKH,EACH,OAAO,2BACFc,GADL,IAEEX,SAAS,IAGb,QACE,OAAOW,IGrBXG,SFN6B,WAAiC,IAAhCH,EAA+B,uDAAvBb,EAAWc,EAAY,uCAC7D,OAAQA,EAAQC,MACd,KAAKhB,EACH,OAAO,2BACFc,GADL,IAEEV,OAAO,YAAKW,EAAQG,WAGxB,KAAKlB,EACH,OAAO,2BACFc,GADL,IAEET,OAAO,eACFU,EAAQG,WAIjB,KAAKlB,EACH,OAAO,2BACFc,GADL,IAEET,OAAQ,OAGZ,KAAKL,EACH,OAAO,eACFC,GAGP,KAAKD,EACH,OAAO,2BACFc,GADL,IAEEV,OAAO,CAAD,eAAQW,EAAQG,UAAhB,mBAA8BJ,EAAMV,WAG9C,KAAKJ,EACH,OAAO,2BACFc,GADL,IAEEV,OAAQU,EAAMV,OAAOe,KAAI,SAACC,GAAD,OACvBA,EAAMC,KAAON,EAAQG,QAAQG,GAAKN,EAAQG,QAAUE,OAI1D,KAAKpB,EACH,OAAO,2BACFc,GADL,IAEEV,OAAQU,EAAMV,OAAOkB,QAAO,SAACF,GAAD,OAAWA,EAAMC,KAAOP,EAAMT,OAAOgB,MACjEhB,OAAQ,OAGZ,QACE,OAAOS,IE1CXS,KDRyB,WAAiC,IAAhCT,EAA+B,uDAAvBb,EAAWc,EAAY,uCACzD,OAAQA,EAAQC,MACd,KAAKhB,EACH,OAAO,2BACFc,GADL,IAEER,SAAS,IAGb,KAAKN,EACH,OAAO,eACFc,GAGP,KAAKd,EACH,OAAO,uCACFc,GACAC,EAAQG,SAFb,IAGEZ,SAAS,IAGb,KAAKN,EACH,MAAO,CACLM,SAAS,GAGb,QACE,OAAOQ,MCfAU,EAAQC,YACnBd,EACAJ,EAAiBmB,YAAgBC,O,uBCCpBC,EAhBO,SAAC,GAAuD,IAArDC,EAAoD,EAApDA,gBAA4BC,EAAwB,EAAnCC,UAAyBC,EAAU,+CAC3E,OACE,kBAAC,IAAD,iBACMA,EADN,CAEED,UAAW,SAACE,GAAD,OACTJ,EAAkB,kBAACC,EAAcG,GAAY,kBAAC,IAAD,CAAUC,GAAG,gBCWnDC,EAhBM,SAAC,GAAuD,IAArDN,EAAoD,EAApDA,gBAA4BC,EAAwB,EAAnCC,UAAyBC,EAAU,+CAC1E,OACE,kBAAC,IAAD,iBACMA,EADN,CAEED,UAAW,SAACE,GAAD,OACRJ,EAA6C,kBAAC,IAAD,CAAUK,GAAG,MAAxC,kBAACJ,EAAcG,Q,iCCP7BG,EAAU,WAAwB,IAAvBC,EAAsB,uDAAP,GAAO,EAChBC,mBAASD,GADO,mBACrCE,EADqC,KAC7BC,EAD6B,KAGtCC,EAAQ,WAAqC,IAApCC,EAAmC,uDAAjBL,EAC/BG,EAAUE,IAGNC,EAAoB,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAC3BJ,EAAU,2BACLD,GADI,kBAENK,EAAOC,KAAOD,EAAOE,UAI1B,MAAO,CAACP,EAAQI,EAAmBF,EAAOD,I,yBChBtCO,EAAcC,oDAEdC,EAAoB,SAACC,EAAWC,GAA0B,IAApBC,EAAmB,uDAAV,MACnD,MAAe,QAAXA,EACKC,MAAM,GAAD,OAAIN,EAAJ,YAAmBG,IAExBG,MAAM,GAAD,OAAIN,EAAJ,YAAmBG,GAAa,CAC1CE,SACAE,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUN,MAKrBO,EAAiB,SAACR,EAAWC,GAA0B,IAApBC,EAAmB,uDAAV,MAC1CO,EAAQC,aAAaC,QAAQ,UAAY,GAE/C,MAAe,QAAXT,EACKC,MAAM,GAAD,OAAIN,EAAJ,YAAmBG,GAAa,CAC1CE,SACAE,QAAS,CACP,UAAWK,KAIRN,MAAM,GAAD,OAAIN,EAAJ,YAAmBG,GAAa,CAC1CE,SACAE,QAAS,CACP,eAAgB,mBAChB,UAAWK,GAEbJ,KAAMC,KAAKC,UAAUN,M,iBC/BrBW,EAAQC,IAAKC,MAAM,CACvBC,OAAO,EACPC,SAAU,UACVC,mBAAmB,EACnBC,MAAO,IACPC,kBAAkB,EAClBC,OAAQ,SAACL,GACPA,EAAMM,iBAAiB,aAAcR,IAAKS,WAC1CP,EAAMM,iBAAiB,aAAcR,IAAKU,gBAIjCC,EAAY,SAACC,EAAMC,GAC9Bd,EAAMe,KAAK,CACTF,KAAMA,EACNC,MAAOA,KCfEE,EAAa,iBAAO,CAC/B9D,KAAMhB,IAOK+E,GAAe,iBAAO,CACjC/D,KAAMhB,IAGKgF,GAAgB,iBAAO,CAClChE,KAAMhB,IC8DFiF,GAAQ,SAACC,GAAD,MAAW,CACvBlE,KAAMhB,EACNkB,QAASgE,IAGLC,GAAS,iBAAO,CACpBnE,KAAMhB,IAGFoF,GAAgB,iBAAO,CAC3BpE,KAAMhB,IC/EKqF,I,MAAc,WAAO,IAAD,EAC2BjD,EAAQ,CAChEkD,WAAY,GACZC,cAAe,KAHc,mBACxBC,EADwB,KACXC,EADW,KACaC,EADb,OAMoCtD,EAAQ,CACzEuD,aAAc,GACdC,cAAe,GACfC,iBAAkB,GAClBC,kBAAmB,KAVU,mBAMxBC,EANwB,KAMRC,EANQ,KAMmBC,EANnB,KAazBC,EAAWC,cACTtF,EAAOuF,aAAY,SAACtF,GAAD,OAAWA,KAA9BD,GAEAyE,EAA8BE,EAA9BF,WAAYC,EAAkBC,EAAlBD,cAElBI,EAIEI,EAJFJ,aACAC,EAGEG,EAHFH,cACAC,EAEEE,EAFFF,iBACAC,EACEC,EADFD,kBAqBIO,EAAc,SAACC,EAAOC,EAAU1D,GACpC,OAAK2D,IAAUC,QAAQH,GAGZC,EAASG,OAAS,GAC3BhC,EAAU,QAAS,oDACZ,GACW,OAAT7B,IACL2D,IAAUG,QAAQ9D,KACpB6B,EAAU,QAAS,2BACZ,IARTA,EAAU,QAAS,4BACZ,IAaX,OACE,yBAAKkC,UAAU,6BACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,yBACb,uCACA,0BAAMC,SAvCY,SAACC,GDNH,IAACR,EAAOC,ECO9BO,EAAEC,iBACEV,EAAYf,EAAYC,EAAe,QACzCW,GDTqBI,ECSDhB,EDTQiB,ECSIhB,EDRpC,uCAAO,WAAOW,GAAP,2BAAAc,EAAA,6DACLd,EAASnB,MADJ,SAEa9B,EAAkB,OAAQ,CAAEqD,QAAOC,YAAY,QAF5D,cAECvE,EAFD,gBAGcA,EAAIiF,OAHlB,OAGC1D,EAHD,OAIG2D,EAA8B3D,EAA9B2D,GAAIC,EAA0B5D,EAA1B4D,IAAKC,EAAqB7D,EAArB6D,IAAKvE,EAAgBU,EAAhBV,KAAMc,EAAUJ,EAAVI,MACxBuD,GACFtD,aAAayD,QAAQ,QAAS1D,GAC9BC,aAAayD,QAAQ,mBAAmB,IAAIC,MAAOC,WACnDrB,EAASjB,GAAM,CAAEmC,MAAKvE,UACtBqD,EAASlB,MACTN,EAAU,UAAWyC,KAErBzC,EAAU,QAASyC,GACnBjB,EAASlB,OAbN,2CAAP,wDCSIU,OAoCM,yBAAKkB,UAAU,cACb,2BACE5F,KAAK,QACL6B,KAAK,aACLxB,GAAG,aACHmG,SAAU/B,EACV3C,MAAOwC,EACPsB,UAAU,eACVa,YAAY,YAGhB,yBAAKb,UAAU,cACb,2BACE5F,KAAK,WACL6B,KAAK,gBACLxB,GAAG,gBACHmG,SAAU/B,EACV3C,MAAOyC,EACPqB,UAAU,eACVa,YAAY,mBAGhB,yBAAKb,UAAU,cACb,4BAAQ5F,KAAK,SAAS4F,UAAU,aAAhC,QACQ,IACL/F,EAAGV,SAAW,uBAAGyG,UAAU,oCAMpC,yBAAKA,UAAU,yBACb,wCACA,0BAAMC,SAjEe,SAACC,GAE5B,GADAA,EAAEC,iBACEV,EAAYT,EAAeC,EAAkBF,GAAe,CAC9D,GAAIE,IAAqBC,EACvB,OAAOpB,EAAU,QAAS,mCAC5BwB,GDCwBwB,ECDD/B,EDCQW,ECDMV,EDCCW,ECDcV,EDExD,uCAAO,WAAOK,GAAP,2BAAAc,EAAA,6DACLd,EAASnB,MADJ,SAEa9B,EAChB,WACA,CAAEJ,KAAM6E,EAAOpB,QAAOC,YACtB,QALG,cAECvE,EAFD,gBAOcA,EAAIiF,OAPlB,OAOC1D,EAPD,OAQG2D,EAA8B3D,EAA9B2D,GAAIC,EAA0B5D,EAA1B4D,IAAKC,EAAqB7D,EAArB6D,IAAKvE,EAAgBU,EAAhBV,KAAMc,EAAUJ,EAAVI,MACxBuD,GACFtD,aAAayD,QAAQ,QAAS1D,GAC9BC,aAAayD,QAAQ,mBAAmB,IAAIC,MAAOC,WACnDrB,EAASjB,GAAM,CAAEmC,MAAKvE,UACtBqD,EAASlB,MACTN,EAAU,UAAWyC,KAErBzC,EAAU,QAASyC,GACnBjB,EAASlB,OAjBN,2CAAP,wDCDIiB,IDAuB,IAACyB,EAAOpB,EAAOC,IC4DhC,yBAAKK,UAAU,cACb,2BACE5F,KAAK,OACL6B,KAAK,eACLxB,GAAG,eACHyB,MAAO6C,EACP6B,SAAUxB,EACVY,UAAU,eACVa,YAAY,YAGhB,yBAAKb,UAAU,cACb,2BACE5F,KAAK,QACL6B,KAAK,gBACLxB,GAAG,gBACHyB,MAAO8C,EACP4B,SAAUxB,EACVY,UAAU,eACVa,YAAY,YAGhB,yBAAKb,UAAU,cACb,2BACE5F,KAAK,WACL6B,KAAK,mBACLxB,GAAG,mBACHyB,MAAO+C,EACP2B,SAAUxB,EACVY,UAAU,eACVa,YAAY,mBAIhB,yBAAKb,UAAU,cACb,2BACE5F,KAAK,WACL6B,KAAK,oBACLxB,GAAG,oBACHyB,MAAOgD,EACP0B,SAAUxB,EACVY,UAAU,eACVa,YAAY,6BAIhB,yBAAKb,UAAU,cACb,2BAAO5F,KAAK,SAAS4F,UAAU,YAAY9D,MAAM,wB,6BCvJlD6E,GAAS,WAAkB,IAAjBvH,EAAgB,uDAAP,GAM9B,OALAA,EAAOe,KAAI,SAACC,GAGV,OAFAA,EAAMwG,MAAQC,KAAOzG,EAAMwG,OAAOD,SAClCvG,EAAM0G,IAAMD,KAAOzG,EAAM0G,KAAKH,SACvBvG,KAEFhB,GCgFI2H,GAAgB,iBAAO,CAClC/G,KAAMhB,IAGFgI,GAAW,SAAC5G,GAAD,MAAY,CAC3BJ,KAAMhB,EACNkB,QAASE,IAGL6G,GAAa,SAAC7H,GAAD,MAAa,CAC9BY,KAAMhB,EACNkB,QAASd,IAGL8H,GAAc,SAAC9G,GAAD,MAAY,CAC9BJ,KAAMhB,EACNkB,QAASE,IAGL+G,GAAc,iBAAO,CACzBnH,KAAMhB,ICvGKoI,GAAS,WAAO,IACnBvF,EAASuD,aAAY,SAACtF,GAAD,OAAWA,EAAMS,QAAtCsB,KACFqD,EAAWC,cAOjB,OACE,yBAAKS,UAAU,mCACb,yBAAKA,UAAU,gBACb,yBACEyB,IAAI,oBACJC,MAAM,KACNC,OAAO,KACP3B,UAAU,gCACV4B,IAAI,GACJrI,QAAQ,SAET0C,GAEH,4BACE4F,QAnBe,WACnBvC,GJ6DK,SAACA,GACNtC,aAAa8E,QACbxC,EAASf,SI9DTe,EDoGgC,CAClClF,KAAMhB,KCnFA4G,UAAU,0BACV5F,KAAK,UAHP,QAKO,uBAAG4F,UAAU,gCChCb+B,GAAW,CACtBC,OAAQ,iBACRC,SAAU,IACVC,KAAM,IACNC,MAAO,MACPC,MAAO,MACPC,KAAM,SACNC,IAAK,SACLC,OAAQ,SACRC,KAAM,QACNC,KAAM,OACNjI,MAAO,SACPkI,gBAAiB,+BACjBC,SAAU,SAACC,GAAD,8BAAyBA,EAAzB,OCXCC,GAAgB,SAAC,GAAe,IAAbrI,EAAY,EAAZA,MACtBwD,EAAgBxD,EAAhBwD,MAAOM,EAAS9D,EAAT8D,KACf,OACE,yBAAK0B,UAAU,qBACb,gCAAShC,GACT,oCAAUM,EAAKrC,Q,wCCOf6G,GAAe,CACnBC,QAAS,CACPC,IAAK,MACLC,KAAM,MACNC,MAAO,OACPC,OAAQ,OACRC,YAAa,OACbC,UAAW,0BAIfC,KAAMC,cAAc,SAEpB,IAAMC,GAAMvC,OAASwC,QAAQ,GAAGC,QAAQ,GAAGC,IAAI,EAAG,SAC5CC,GAASJ,GAAIK,QAAQF,IAAI,EAAG,SAErBG,GAAgB,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UAAgB,EACZrI,mBAAS8H,GAAIzC,UADD,mBACvCiD,EADuC,KAC5BC,EAD4B,OAEhBvI,mBAASkI,GAAO7C,UAFA,mBAEvCmD,EAFuC,KAE9BC,EAF8B,OAGhBzI,oBAAS,GAHO,mBAGvC0I,EAHuC,KAG9BC,EAH8B,KAKxChL,EAAY,CAChB2E,MAAO,GACPsG,KAAM,GACNtD,MAAOwC,GAAIzC,SACXG,IAAK0C,GAAO7C,UATgC,EAYQvF,EAAQnC,GAZhB,mBAYvCsC,EAZuC,KAY/BI,EAZ+B,KAYZF,EAZY,KAYLD,EAZK,OAcrB4D,aAAY,SAACtF,GAAD,OAAWA,KAAxCD,EAdsC,EActCA,GAAII,EAdkC,EAclCA,SACNiF,EAAWC,cAETvB,EAA4BrC,EAA5BqC,MAAOsG,EAAqB3I,EAArB2I,KAAMtD,EAAerF,EAAfqF,MAAOE,EAAQvF,EAARuF,IAEpBzH,EAAWY,EAAXZ,OAER8K,qBAAU,WACJ9K,GACFmC,EAAUnC,GACVwK,EAAaxK,EAAOuH,OACpBmD,EAAW1K,EAAOyH,MAEd6C,EAAU/C,OACZpF,EAAU,CACRoC,MAAO,GACPsG,KAAM,GACNtD,MAAO+C,EAAU/C,MACjBE,IAAK6C,EAAU7C,MAEjB+C,EAAaF,EAAU/C,OACvBmD,EAAWJ,EAAU7C,OAErBtF,EAAU,CACRoC,MAAO,GACPsG,KAAM,GACNtD,MAAOwC,GAAIzC,SACXG,IAAK0C,GAAO7C,WAEdkD,EAAaT,GAAIzC,UACjBoD,EAAWP,GAAO7C,aAGrB,CAACtH,EAAQmC,EAAWmI,IAEvB,IAAMS,EAAa,WACjBlF,ER1E8B,CAChClF,KAAMhB,IQ0EJkG,EAAS6B,MACTtF,EAAMxC,GACN4K,EAAa5K,EAAU2H,OACvBmD,EAAW9K,EAAU6H,MAiCvB,OACE,yBAAKlB,UAAU,aACb,kBAAC,KAAD,CACEyE,OAAQxK,EAAGX,UACXoL,eAAgBF,EAChBG,MAAO7B,GACP8B,eAAgB,IAChB5E,UAAU,QACV6E,iBAAiB,eAEjB,4BAAQzK,KAAK,SAASyH,QAAS2C,EAAYxE,UAAU,SACnD,uCAEF,0BAAMC,SAjCS,SAACC,GACpBA,EAAEC,iBACF,IJ9F6B2E,EAuCAC,EIuDvBC,EAAc/D,KAAOD,GACrBiE,EAAYhE,KAAOC,GAErB8D,EAAYE,cAAcD,GAC5BnH,EAAU,UAAW,qCACZE,EAAMmH,OAAOrF,QAAU,GAAK9B,EAAMmH,OAAOrF,OAAS,GAC3DuE,GAAW,IAEXA,GAAW,GACXG,IAEElF,EADE7F,GJjEuBsL,EIkECpJ,EJjEhC,uCAAO,WAAO2D,GAAP,qBAAAc,EAAA,+EAEetD,EAAe,UAAD,OACpBiI,EAAUtK,IACpBsK,EACA,OALC,cAEG3J,EAFH,gBAOuBA,EAAIiF,OAP3B,gBAOKC,EAPL,EAOKA,GAAIC,EAPT,EAOSA,IACRD,GACFhB,EAASgC,GAAYyD,IACrBjH,EAAU,UAAWyC,IAErBzC,EAAU,QAASyC,GAZlB,kDAeH6E,QAAQC,IAAR,MAfG,0DAAP,wDAxC+BP,EI2GCnJ,EJ1GhC,uCAAO,WAAO2D,EAAUgG,GAAjB,6BAAAlF,EAAA,wEAEmBkF,IAAW3K,KAAzBsB,EAFL,EAEKA,KAAMuE,EAFX,EAEWA,IAFX,SAGe1D,EAAe,SAAUgI,EAAU,QAHlD,cAGG1J,EAHH,gBAI8BA,EAAIiF,OAJlC,gBAIKC,EAJL,EAIKA,GAAIC,EAJT,EAISA,IAAK/F,EAJd,EAIcA,MACb8F,GACFwE,EAASrK,GAAKD,EAAMC,GACpBqK,EAASxG,KAAO,CACdiH,IAAK/E,EACLvE,QAEFqD,EAAS8B,GAAS0D,IAClBhH,EAAU,UAAWyC,IAErBzC,EAAU,QAASyC,GAdlB,kDAiBH6E,QAAQC,IAAR,MAjBG,0DAAP,4DI4HoCrF,UAAU,aACtC,yBAAKA,UAAU,cACb,sDACA,kBAAC,KAAD,CACEY,SA/Cc,SAACV,GACzB+D,EAAa/D,GACbvE,EAAOqF,MAAQd,GA8CLhE,MAAO8H,EACPhE,UAAU,kBAId,yBAAKA,UAAU,cACb,mDACA,kBAAC,KAAD,CACEY,SAnDY,SAACV,GACvBiE,EAAWjE,GACXvE,EAAOuF,IAAMhB,GAkDHhE,MAAOgI,EACPsB,QAASxB,EACThE,UAAU,kBAId,6BACA,yBAAKA,UAAU,cACb,iDACA,2BACE5F,KAAK,OACL4F,UAAS,wBAAmBoE,GAAW,cACvCvD,YAAY,uBACZ5E,KAAK,QACLC,MAAO8B,EACP4C,SAAU7E,EACV0J,aAAa,MACbC,UAAU,OAEZ,2BAAOjL,GAAG,YAAYuF,UAAU,wBAAhC,6BAKF,yBAAKA,UAAU,cACb,8BACE5F,KAAK,OACL4F,UAAU,eACVa,YAAY,QACZ8E,KAAK,IACLzJ,MAAOoI,EACP1D,SAAU7E,EACVE,KAAK,SAEP,2BAAOxB,GAAG,YAAYuF,UAAU,wBAAhC,6BAKF,4BAAQ5F,KAAK,SAAS4F,UAAU,qCAC7B3F,EAASZ,OACR,oCACE,uBAAGuG,UAAU,oBACb,+CAGF,oCACE,uBAAGA,UAAU,gBACb,gDC5LH4F,I,cAAiB,WAC5B,IAAMtG,EAAWC,cAMjB,OACE,oCACE,4BACEsC,QAPkB,WACtBvC,EAASpB,MAOL8B,UAAU,gDAEV,uBAAGA,UAAU,oBCbR6F,GAAe,WAC1B,IAAMvG,EAAWC,cAIjB,OACE,oCACE,4BACEsC,QALoB,kBAAMvC,EN2DhC,uCAAO,WAAOA,EAAUgG,GAAjB,uBAAAlF,EAAA,6DACG3G,EAAW6L,IAAWjL,SAAtBZ,OADH,kBAGeqD,EAAe,UAAD,OAAWrD,EAAOgB,IAAM,GAAI,UAHzD,cAGGW,EAHH,gBAIuBA,EAAIiF,OAJ3B,gBAIKC,EAJL,EAIKA,GAAIC,EAJT,EAISA,IACRD,GACFhB,EAASiC,MACTzD,EAAU,UAAWyC,IAErBzC,EAAU,QAASyC,GATlB,kDAYH6E,QAAQC,IAAR,MAZG,0DAAP,0DMrDMrF,UAAU,sDAEV,uBAAGA,UAAU,wBCIf8F,GAAYC,aAAgB9E,MAClCA,OAAS+E,OAAO,MAET,IAAMC,GAAiB,WAAO,IAAD,EACFvK,mBAC9BsB,aAAaC,QAAQ,aAAe,SAFJ,mBAC3BiJ,EAD2B,KACjBC,EADiB,OAIAzK,mBAAS,CAAEsF,MAAO,GAAIE,IAAK,KAJ3B,mBAI3B6C,EAJ2B,KAIhBqC,EAJgB,OAMH5G,aAAY,SAACtF,GAAD,OAAWA,KAA9CG,EAN0B,EAM1BA,SAAUJ,EANgB,EAMhBA,GAAIU,EANY,EAMZA,KAChB0L,EAAehM,EAASb,OAExB8F,EAAWC,cAEjBgF,qBAAU,WACRjF,EPLF,uCAAO,WAAOA,GAAP,uBAAAc,EAAA,+EAEetD,EAAe,UAF9B,cAEG1B,EAFH,gBAG+BA,EAAIiF,OAHnC,gBAGKC,EAHL,EAGKA,GAAIC,EAHT,EAGSA,IAAK/G,EAHd,EAGcA,OACb8G,EACFhB,EAAS+B,GAAWN,GAAOvH,KAE3BsE,EAAU,QAASyC,GAPlB,kDAUH6E,QAAQC,IAAR,MAVG,0DAAP,yDOMG,CAAC/F,IAoCJ,OACE,oCACE,kBAAC,GAAD,MACA,yBAAKU,UAAU,6BACb,kBAAC,KAAD,CACE8F,UAAWA,GACXtM,OAAQ6M,EACRC,cAAc,QACdC,YAAY,MACZxE,SAAUA,GACVyE,gBA5CiB,SAAChM,EAAOwG,EAAOE,EAAKuF,GAU3C,MAAO,CACL9B,MATY,CACZ+B,gBAFYlM,EAAM8D,KAAKiH,MAAQ5K,EAAK6F,IAAM,UAAY,UAGtDmG,OAAQ,MACRC,QAAS,GACTC,MAAO,QACPC,UAAW,UAsCPC,WAAY,CACVvM,MAAOqI,IAETmE,cAjCc,SAAC9G,GACrBZ,EP8BmC,CACrClF,KAAMhB,EACNkB,QOhCuB4F,KAiCf+G,mBAxBmB,SAAC/G,GAC1BZ,EAASpB,MAwBHgJ,aA/Ba,SAAChH,GAAO,IACnBc,EAAed,EAAfc,MAAOE,EAAQhB,EAARgB,IACfkF,EAAa,CAAEpF,QAAOE,QACtB7G,EAASZ,OAAS6F,EAAS6B,MAAmB7B,EAASpB,MA6BjDiJ,YAAY,EACZC,OAvBa,SAAClH,GACpBiG,EAAYjG,GACZlD,aAAayD,QAAQ,WAAYP,IAsB3BmH,KAAMnB,IAGP7L,EAASZ,SAAWQ,EAAGX,WAAa,kBAAC,GAAD,MACrC,kBAAC,GAAD,MACA,kBAAC,GAAD,CAAeyK,UAAWA,OCtFrBuD,GAAY,WACvB,IAAMhI,EAAWC,cADY,EAEJC,aAAY,SAACtF,GAAD,OAAWA,EAAMS,QAA9CjB,EAFqB,EAErBA,QAAS8G,EAFY,EAEZA,IAMjB,OAJA+D,qBAAU,WACRjF,EXPF,uCAAO,WAAOA,GAAP,yBAAAc,EAAA,+EAEetD,EAAe,cAF9B,cAEG1B,EAFH,gBAGgBA,EAAIiF,OAHpB,OAGG1D,EAHH,OAIK2D,EAAyB3D,EAAzB2D,GAAIE,EAAqB7D,EAArB6D,IAAKvE,EAAgBU,EAAhBV,KAAMc,EAAUJ,EAAVI,MACnBuD,GACFtD,aAAayD,QAAQ,QAAS1D,GAC9BC,aAAayD,QAAQ,mBAAmB,IAAIC,MAAOC,WACnDrB,EAASjB,GAAM,CAAEmC,MAAKvE,WAEtBqD,EAASd,MAVR,kDAaH4G,QAAQC,IAAR,MAbG,0DAAP,yDWQG,CAAC/F,IAEA5F,EAAgB,2CAGlB,kBAAC,IAAD,KACE,6BACE,kBAAC,IAAD,KACE,kBAAC,EAAD,CACE6N,KAAK,SACLtM,kBAAmBuF,EACnBrF,UAAWsD,KAEb,kBAAC,EAAD,CACE8I,KAAK,IACLtM,kBAAmBuF,EACnBrF,UAAW8K,KAEb,kBAAC,IAAD,CAAU3K,GAAG,UC5BVkM,GAAc,WACzB,OACE,kBAAC,IAAD,CAAU5M,MAAOA,GACf,kBAAC,GAAD,Q,OCHN6M,IAASC,OAAO,kBAAC,GAAD,MAAiBC,SAASC,eAAe,U","file":"static/js/main.732a5b32.chunk.js","sourcesContent":["export const types = {\r\n  openModal: \"[UI] Open modal\",\r\n  closeModal: \"[UI] Close modal\",\r\n  startLoading: \"[UI] Start Loading\",\r\n  finishLoading: \"[UI] Finish Loading\",\r\n\r\n  activeEvent: \"[CALENDAR] Active event\",\r\n  cleanerActive: \"[CALENDAR] Cleaner active\",\r\n  cleanerEvents: \"[CALENDAR] Cleaner events\",\r\n  addEvent: \"[CALENDAR] Add event\",\r\n  updateEvent: \"[CALENDAR] Update event\",\r\n  deleteEvent: \"[CALENDAR] Delete event\",\r\n  loadEvents: \"[CALENDAR] Load events\",\r\n\r\n  finishCheking: \"[AUTH] Finish cheking\",\r\n  renewToken: \"[AUTH] Renew token\",\r\n  login: \"[AUTH] Login user\",\r\n  logout: \"[AUTH] Logout user\",\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nconst initState = {\r\n  modalOpen: false,\r\n  loading: false,\r\n};\r\n\r\nexport const uiReducer = (state = initState, actions) => {\r\n  switch (actions.type) {\r\n    case types.openModal:\r\n      return {\r\n        ...state,\r\n        modalOpen: true,\r\n      };\r\n\r\n    case types.closeModal:\r\n      return {\r\n        ...state,\r\n        modalOpen: false,\r\n      };\r\n\r\n    case types.startLoading:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n\r\n    case types.finishLoading:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nconst initState = {\r\n  events: [],\r\n  active: null,\r\n};\r\n\r\nexport const calendarReducer = (state = initState, actions) => {\r\n  switch (actions.type) {\r\n    case types.loadEvents:\r\n      return {\r\n        ...state,\r\n        events: [...actions.payload],\r\n      };\r\n\r\n    case types.activeEvent:\r\n      return {\r\n        ...state,\r\n        active: {\r\n          ...actions.payload,\r\n        },\r\n      };\r\n\r\n    case types.cleanerActive:\r\n      return {\r\n        ...state,\r\n        active: null,\r\n      };\r\n\r\n    case types.cleanerEvents:\r\n      return {\r\n        ...initState,\r\n      };\r\n\r\n    case types.addEvent:\r\n      return {\r\n        ...state,\r\n        events: [{ ...actions.payload }, ...state.events],\r\n      };\r\n\r\n    case types.updateEvent:\r\n      return {\r\n        ...state,\r\n        events: state.events.map((event) =>\r\n          event.id === actions.payload.id ? actions.payload : event\r\n        ),\r\n      };\r\n\r\n    case types.deleteEvent:\r\n      return {\r\n        ...state,\r\n        events: state.events.filter((event) => event.id !== state.active.id),\r\n        active: null,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nconst initState = {\r\n  cheking: true,\r\n};\r\n\r\nexport const authReducer = (state = initState, actions) => {\r\n  switch (actions.type) {\r\n    case types.finishCheking:\r\n      return {\r\n        ...state,\r\n        cheking: false,\r\n      };\r\n\r\n    case types.renewToken:\r\n      return {\r\n        ...state,\r\n      };\r\n\r\n    case types.login:\r\n      return {\r\n        ...state,\r\n        ...actions.payload,\r\n        cheking: false,\r\n      };\r\n\r\n    case types.logout:\r\n      return {\r\n        cheking: false,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, applyMiddleware, combineReducers, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { uiReducer } from \"../reducers/uiReducer\";\r\nimport { calendarReducer } from \"../reducers/calendarReducer\";\r\nimport { authReducer } from \"../reducers/authReducer\";\r\n\r\nconst composeEnhancers =\r\n  (typeof window !== \"undefined\" &&\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\r\n  compose;\r\n\r\nconst rootReducer = combineReducers({\r\n  ui: uiReducer,\r\n  calendar: calendarReducer,\r\n  auth: authReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst PrivateRouter = ({ isAuthenticated, component: Component, ...res }) => {\r\n  return (\r\n    <Route\r\n      {...res}\r\n      component={(props) =>\r\n        isAuthenticated ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nPrivateRouter.propTypes = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default PrivateRouter;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst PublicRouter = ({ isAuthenticated, component: Component, ...res }) => {\r\n  return (\r\n    <Route\r\n      {...res}\r\n      component={(props) =>\r\n        !isAuthenticated ? <Component {...props} /> : <Redirect to=\"/\" />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nPublicRouter.propTypes = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default PublicRouter;\r\n","import { useState } from \"react\";\r\n\r\nexport const useForm = (initialState = {}) => {\r\n  const [values, setValues] = useState(initialState);\r\n\r\n  const reset = (newInitialState = initialState) => {\r\n    setValues(newInitialState);\r\n  };\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    setValues({\r\n      ...values,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n\r\n  return [values, handleInputChange, reset, setValues];\r\n};\r\n","const URL_BACKEND = process.env.REACT_APP_API_URL;\r\n\r\nconst fetchWithoutToken = (endopoint, data, method = \"GET\") => {\r\n  if (method === \"GET\") {\r\n    return fetch(`${URL_BACKEND}/${endopoint}`);\r\n  } else {\r\n    return fetch(`${URL_BACKEND}/${endopoint}`, {\r\n      method,\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n};\r\n\r\nconst fetchWithToken = (endopoint, data, method = \"GET\") => {\r\n  const token = localStorage.getItem(\"token\") || \"\";\r\n\r\n  if (method === \"GET\") {\r\n    return fetch(`${URL_BACKEND}/${endopoint}`, {\r\n      method,\r\n      headers: {\r\n        \"x-token\": token,\r\n      },\r\n    });\r\n  } else {\r\n    return fetch(`${URL_BACKEND}/${endopoint}`, {\r\n      method,\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n        \"x-token\": token,\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n};\r\n\r\nexport { fetchWithoutToken, fetchWithToken };\r\n","import Swal from \"sweetalert2\";\r\n\r\nconst Toast = Swal.mixin({\r\n  toast: true,\r\n  position: \"top-end\",\r\n  showConfirmButton: false,\r\n  timer: 3000,\r\n  timerProgressBar: true,\r\n  onOpen: (toast) => {\r\n    toast.addEventListener(\"mouseenter\", Swal.stopTimer);\r\n    toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\r\n  },\r\n});\r\n\r\nexport const showAlert = (icon, title) => {\r\n  Toast.fire({\r\n    icon: icon,\r\n    title: title,\r\n  });\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nexport const openModals = () => ({\r\n  type: types.openModal,\r\n});\r\n\r\nexport const closeModals = () => ({\r\n  type: types.closeModal,\r\n});\r\n\r\nexport const startLoading = () => ({\r\n  type: types.startLoading,\r\n});\r\n\r\nexport const finishLoading = () => ({\r\n  type: types.finishLoading,\r\n});\r\n","import { types } from \"../types/types\";\r\nimport { fetchWithoutToken, fetchWithToken } from \"../helpers/fetch\";\r\nimport { showAlert } from \"../alerts/alerts\";\r\nimport { startLoading, finishLoading } from \"./ui\";\r\n\r\n// Realizo la petición para saber si un usuario esta autenticado o no\r\nexport const startIsAuth = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await fetchWithToken(\"auth/renew\");\r\n      const body = await res.json();\r\n      const { ok, uid, name, token } = body;\r\n      if (ok) {\r\n        localStorage.setItem(\"token\", token);\r\n        localStorage.setItem(\"token-init-date\", new Date().getTime());\r\n        dispatch(login({ uid, name }));\r\n      } else {\r\n        dispatch(finishCheking());\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\n// Realizo la petición para iniciar la sesión de un usuario\r\nexport const startLogin = (email, password) => {\r\n  return async (dispatch) => {\r\n    dispatch(startLoading());\r\n    const res = await fetchWithoutToken(\"auth\", { email, password }, \"POST\");\r\n    const body = await res.json();\r\n    const { ok, msg, uid, name, token } = body;\r\n    if (ok) {\r\n      localStorage.setItem(\"token\", token);\r\n      localStorage.setItem(\"token-init-date\", new Date().getTime());\r\n      dispatch(login({ uid, name }));\r\n      dispatch(finishLoading());\r\n      showAlert(\"success\", msg);\r\n    } else {\r\n      showAlert(\"error\", msg);\r\n      dispatch(finishLoading());\r\n    }\r\n  };\r\n};\r\n\r\n// Realizo la petición para crear un usuario\r\nexport const startRegister = (nameR, email, password) => {\r\n  return async (dispatch) => {\r\n    dispatch(startLoading());\r\n    const res = await fetchWithoutToken(\r\n      \"auth/new\",\r\n      { name: nameR, email, password },\r\n      \"POST\"\r\n    );\r\n    const body = await res.json();\r\n    const { ok, msg, uid, name, token } = body;\r\n    if (ok) {\r\n      localStorage.setItem(\"token\", token);\r\n      localStorage.setItem(\"token-init-date\", new Date().getTime());\r\n      dispatch(login({ uid, name }));\r\n      dispatch(finishLoading());\r\n      showAlert(\"success\", msg);\r\n    } else {\r\n      showAlert(\"error\", msg);\r\n      dispatch(finishLoading());\r\n    }\r\n  };\r\n};\r\n\r\n// Limpio el localStorage para terminar le sesión del usuario.\r\nexport const startLogout = () => {\r\n  return (dispatch) => {\r\n    localStorage.clear();\r\n    dispatch(logout());\r\n  };\r\n};\r\n\r\nconst login = (user) => ({\r\n  type: types.login,\r\n  payload: user,\r\n});\r\n\r\nconst logout = () => ({\r\n  type: types.logout,\r\n});\r\n\r\nconst finishCheking = () => ({\r\n  type: types.finishCheking,\r\n});\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport validator from \"validator\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport { startLogin, startRegister } from \"../../actions/auth\";\r\nimport \"./login.css\";\r\nimport { showAlert } from \"../../alerts/alerts\";\r\n\r\nexport const LoginScreen = () => {\r\n  const [valuesLogin, handleInputChangeLogin, resetLogin] = useForm({\r\n    emailLogin: \"\",\r\n    passwordLogin: \"\",\r\n  });\r\n\r\n  const [valuesRegister, handleInputChangeRegister, resetRegister] = useForm({\r\n    nameRegister: \"\",\r\n    emailRegister: \"\",\r\n    passwordRegister: \"\",\r\n    password2Register: \"\",\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n  const { ui } = useSelector((state) => state);\r\n\r\n  const { emailLogin, passwordLogin } = valuesLogin;\r\n  const {\r\n    nameRegister,\r\n    emailRegister,\r\n    passwordRegister,\r\n    password2Register,\r\n  } = valuesRegister;\r\n\r\n  const handleSubmitLogin = (e) => {\r\n    e.preventDefault();\r\n    if (isFormValid(emailLogin, passwordLogin, null)) {\r\n      dispatch(startLogin(emailLogin, passwordLogin));\r\n      resetLogin();\r\n    }\r\n  };\r\n\r\n  const handleSubmitRegister = (e) => {\r\n    e.preventDefault();\r\n    if (isFormValid(emailRegister, passwordRegister, nameRegister)) {\r\n      if (passwordRegister !== password2Register)\r\n        return showAlert(\"error\", \"Las contraseñas no coinciden\");\r\n      dispatch(startRegister(nameRegister, emailRegister, passwordRegister));\r\n      resetRegister();\r\n    }\r\n  };\r\n\r\n  const isFormValid = (email, password, name) => {\r\n    if (!validator.isEmail(email)) {\r\n      showAlert(\"error\", \"Ingrese un email valido\");\r\n      return false;\r\n    } else if (password.length < 6) {\r\n      showAlert(\"error\", \"La contraseña debe tener minimo 6 caracteres\");\r\n      return false;\r\n    } else if (name !== null) {\r\n      if (validator.isEmpty(name)) {\r\n        showAlert(\"error\", \"El nombre es necesario\");\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  return (\r\n    <div className=\"container login-container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 login-form-1\">\r\n          <h3>Ingreso</h3>\r\n          <form onSubmit={handleSubmitLogin}>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"email\"\r\n                name=\"emailLogin\"\r\n                id=\"emailLogin\"\r\n                onChange={handleInputChangeLogin}\r\n                value={emailLogin}\r\n                className=\"form-control\"\r\n                placeholder=\"Correo\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                name=\"passwordLogin\"\r\n                id=\"passwordLogin\"\r\n                onChange={handleInputChangeLogin}\r\n                value={passwordLogin}\r\n                className=\"form-control\"\r\n                placeholder=\"Contraseña\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <button type=\"submit\" className=\"btnSubmit\">\r\n                Login{\" \"}\r\n                {ui.loading && <i className=\"fas fa-spinner fa-spin ml-2\"></i>}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"col-md-6 login-form-2\">\r\n          <h3>Registro</h3>\r\n          <form onSubmit={handleSubmitRegister}>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"nameRegister\"\r\n                id=\"nameRegister\"\r\n                value={nameRegister}\r\n                onChange={handleInputChangeRegister}\r\n                className=\"form-control\"\r\n                placeholder=\"Nombre\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"email\"\r\n                name=\"emailRegister\"\r\n                id=\"emailRegister\"\r\n                value={emailRegister}\r\n                onChange={handleInputChangeRegister}\r\n                className=\"form-control\"\r\n                placeholder=\"Correo\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                name=\"passwordRegister\"\r\n                id=\"passwordRegister\"\r\n                value={passwordRegister}\r\n                onChange={handleInputChangeRegister}\r\n                className=\"form-control\"\r\n                placeholder=\"Contraseña\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                name=\"password2Register\"\r\n                id=\"password2Register\"\r\n                value={password2Register}\r\n                onChange={handleInputChangeRegister}\r\n                className=\"form-control\"\r\n                placeholder=\"Repita la contraseña\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <input type=\"submit\" className=\"btnSubmit\" value=\"Crear cuenta\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import moment from \"moment\";\r\n\r\nexport const toDate = (events = []) => {\r\n  events.map((event) => {\r\n    event.start = moment(event.start).toDate();\r\n    event.end = moment(event.end).toDate();\r\n    return event;\r\n  });\r\n  return events;\r\n};\r\n","import { types } from \"../types/types\";\r\nimport { fetchWithToken } from \"../helpers/fetch\";\r\nimport { showAlert } from \"../alerts/alerts\";\r\nimport { toDate } from \"../helpers/date\";\r\n\r\nexport const startCreateEvent = (newEvent) => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      const { name, uid } = getState().auth;\r\n      const res = await fetchWithToken(\"events\", newEvent, \"POST\");\r\n      const { ok, msg, event } = await res.json();\r\n      if (ok) {\r\n        newEvent.id = event.id;\r\n        newEvent.user = {\r\n          _id: uid,\r\n          name,\r\n        };\r\n        dispatch(addEvent(newEvent));\r\n        showAlert(\"success\", msg);\r\n      } else {\r\n        showAlert(\"error\", msg);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const startLoadEvents = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await fetchWithToken(\"events\");\r\n      const { ok, msg, events } = await res.json();\r\n      if (ok) {\r\n        dispatch(loadEvents(toDate(events)));\r\n      } else {\r\n        showAlert(\"error\", msg);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const startUpdateEvent = (editEvent) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await fetchWithToken(\r\n        `events/${editEvent.id}`,\r\n        editEvent,\r\n        \"PUT\"\r\n      );\r\n      const { ok, msg } = await res.json();\r\n      if (ok) {\r\n        dispatch(updateEvent(editEvent));\r\n        showAlert(\"success\", msg);\r\n      } else {\r\n        showAlert(\"error\", msg);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const startDeleteEvent = () => {\r\n  return async (dispatch, getState) => {\r\n    const { active } = getState().calendar;\r\n    try {\r\n      const res = await fetchWithToken(`events/${active.id}`, {}, \"DELETE\");\r\n      const { ok, msg } = await res.json();\r\n      if (ok) {\r\n        dispatch(deleteEvent());\r\n        showAlert(\"success\", msg);\r\n      } else {\r\n        showAlert(\"error\", msg);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const activeEvent = (event) => ({\r\n  type: types.activeEvent,\r\n  payload: event,\r\n});\r\n\r\nexport const cleanerActive = () => ({\r\n  type: types.cleanerActive,\r\n});\r\n\r\nconst addEvent = (event) => ({\r\n  type: types.addEvent,\r\n  payload: event,\r\n});\r\n\r\nconst loadEvents = (events) => ({\r\n  type: types.loadEvents,\r\n  payload: events,\r\n});\r\n\r\nconst updateEvent = (event) => ({\r\n  type: types.updateEvent,\r\n  payload: event,\r\n});\r\n\r\nconst deleteEvent = () => ({\r\n  type: types.deleteEvent,\r\n});\r\n\r\nexport const cleanerEvents = () => ({\r\n  type: types.cleanerEvents,\r\n});\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { startLogout } from \"../../actions/auth\";\r\nimport { cleanerEvents } from \"../../actions/calendar\";\r\n\r\nexport const Navbar = () => {\r\n  const { name } = useSelector((state) => state.auth);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleLogout = () => {\r\n    dispatch(startLogout());\r\n    dispatch(cleanerEvents());\r\n  };\r\n\r\n  return (\r\n    <div className=\"navbar navbar-dark bg-dark mb-4\">\r\n      <div className=\"navbar-brand\">\r\n        <img\r\n          src=\"../../logo192.png\"\r\n          width=\"30\"\r\n          height=\"30\"\r\n          className=\"d-inline-block align-top mr-2\"\r\n          alt=\"\"\r\n          loading=\"lazy\"\r\n        />\r\n        {name}\r\n      </div>\r\n      <button\r\n        onClick={handleLogout}\r\n        className=\"btn btn-outline-warning\"\r\n        type=\"button\"\r\n      >\r\n        Salir<i className=\"fas fa-sign-out-alt ml-2\"></i>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","export const messages = {\r\n  allDay: \"Todo el día\",\r\n  previous: \"<\",\r\n  next: \">\",\r\n  today: \"Hoy\",\r\n  month: \"Mes\",\r\n  week: \"Semana\",\r\n  day: \"Día\",\r\n  agenda: \"Agenda\",\r\n  date: \"Fecha\",\r\n  time: \"Hora\",\r\n  event: \"Evento\",\r\n  noEventsInRange: \"No hay eventos en este rango\",\r\n  showMore: (total) => `+ Ver más (${total})`,\r\n};\r\n","import React from \"react\";\r\n\r\nexport const CalendarEvent = ({ event }) => {\r\n  const { title, user } = event;\r\n  return (\r\n    <div className=\"w-100 h-100 event\">\r\n      <strong>{title}</strong>\r\n      <span> - {user.name}</span>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport moment from \"moment\";\r\nimport DateTimePicker from \"react-datetime-picker\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport { showAlert } from \"../../alerts/alerts\";\r\nimport { closeModals } from \"../../actions/ui\";\r\nimport {\r\n  startCreateEvent,\r\n  cleanerActive,\r\n  startUpdateEvent,\r\n} from \"../../actions/calendar\";\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst now = moment().minutes(0).seconds(0).add(1, \"hours\");\r\nconst addNow = now.clone().add(1, \"hours\");\r\n\r\nexport const CalendarModal = ({ initDates }) => {\r\n  const [startDate, setStartDate] = useState(now.toDate());\r\n  const [endDate, setEndDate] = useState(addNow.toDate());\r\n  const [isValid, setIsValid] = useState(true);\r\n\r\n  const initState = {\r\n    title: \"\",\r\n    note: \"\",\r\n    start: now.toDate(),\r\n    end: addNow.toDate(),\r\n  };\r\n\r\n  const [values, handleInputChange, reset, setValues] = useForm(initState);\r\n\r\n  const { ui, calendar } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const { title, note, start, end } = values;\r\n\r\n  const { active } = calendar;\r\n\r\n  useEffect(() => {\r\n    if (active) {\r\n      setValues(active);\r\n      setStartDate(active.start);\r\n      setEndDate(active.end);\r\n    } else {\r\n      if (initDates.start) {\r\n        setValues({\r\n          title: \"\",\r\n          note: \"\",\r\n          start: initDates.start,\r\n          end: initDates.end,\r\n        });\r\n        setStartDate(initDates.start);\r\n        setEndDate(initDates.end);\r\n      } else {\r\n        setValues({\r\n          title: \"\",\r\n          note: \"\",\r\n          start: now.toDate(),\r\n          end: addNow.toDate(),\r\n        });\r\n        setStartDate(now.toDate());\r\n        setEndDate(addNow.toDate());\r\n      }\r\n    }\r\n  }, [active, setValues, initDates]);\r\n\r\n  const closeModal = () => {\r\n    dispatch(closeModals());\r\n    dispatch(cleanerActive());\r\n    reset(initState);\r\n    setStartDate(initState.start);\r\n    setEndDate(initState.end);\r\n  };\r\n\r\n  const handleStartChange = (e) => {\r\n    setStartDate(e);\r\n    values.start = e;\r\n  };\r\n\r\n  const handleEndChange = (e) => {\r\n    setEndDate(e);\r\n    values.end = e;\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const momentStart = moment(start);\r\n    const momentEnd = moment(end);\r\n\r\n    if (momentStart.isSameOrAfter(momentEnd)) {\r\n      showAlert(\"warning\", \"La fecha final debe ser posterior\");\r\n    } else if (title.trim().length <= 2 || title.trim().length > 31) {\r\n      setIsValid(false);\r\n    } else {\r\n      setIsValid(true);\r\n      closeModal();\r\n      if (active) {\r\n        dispatch(startUpdateEvent(values));\r\n      } else {\r\n        dispatch(startCreateEvent(values));\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Modal\r\n        isOpen={ui.modalOpen}\r\n        onRequestClose={closeModal}\r\n        style={customStyles}\r\n        closeTimeoutMS={200}\r\n        className=\"modal\"\r\n        overlayClassName=\"modal-fondo\"\r\n      >\r\n        <button type=\"button\" onClick={closeModal} className=\"close\">\r\n          <span>&times;</span>\r\n        </button>\r\n        <form onSubmit={handleSubmit} className=\"container\">\r\n          <div className=\"form-group\">\r\n            <label>Fecha y hora inicio</label>\r\n            <DateTimePicker\r\n              onChange={handleStartChange}\r\n              value={startDate}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Fecha y hora fin</label>\r\n            <DateTimePicker\r\n              onChange={handleEndChange}\r\n              value={endDate}\r\n              minDate={startDate}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n\r\n          <hr />\r\n          <div className=\"form-group\">\r\n            <label>Titulo y notas</label>\r\n            <input\r\n              type=\"text\"\r\n              className={`form-control ${!isValid && \"is-invalid\"}`}\r\n              placeholder=\"Título del evento\"\r\n              name=\"title\"\r\n              value={title}\r\n              onChange={handleInputChange}\r\n              autoComplete=\"off\"\r\n              maxLength=\"31\"\r\n            />\r\n            <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n              Una descripción corta\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Notas\"\r\n              rows=\"2\"\r\n              value={note}\r\n              onChange={handleInputChange}\r\n              name=\"note\"\r\n            ></textarea>\r\n            <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n              Información adicional\r\n            </small>\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"btn btn-outline-primary btn-block\">\r\n            {calendar.active ? (\r\n              <>\r\n                <i className=\"fas fa-sync-alt\"></i>\r\n                <span> Actualizar </span>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <i className=\"far fa-save\"></i>\r\n                <span> Guardar</span>\r\n              </>\r\n            )}\r\n          </button>\r\n        </form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { openModals } from \"../../actions/ui\";\r\n\r\nexport const ButtonFloating = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const handleOpenModal = () => {\r\n    dispatch(openModals());\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={handleOpenModal}\r\n        className=\"btn btn-warning rounded-circle btn-lg my-btn\"\r\n      >\r\n        <i className=\"fas fa-plus\"></i>\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { startDeleteEvent } from \"../../actions/calendar\";\r\n\r\nexport const ButtonDelete = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const handleDeleteEvent = () => dispatch(startDeleteEvent());\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={handleDeleteEvent}\r\n        className=\"btn btn-lg btn-danger rounded-circle my-btn-danger\"\r\n      >\r\n        <i className=\"far fa-trash-alt\"></i>\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\r\nimport moment from \"moment\";\r\nimport { Navbar } from \"../ui/Navbar\";\r\nimport { messages } from \"../../helpers/calendar-spanish\";\r\nimport { CalendarEvent } from \"./CalendarEvent\";\r\nimport { CalendarModal } from \"./CalendarModal\";\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport \"moment/locale/es\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { openModals } from \"../../actions/ui\";\r\nimport {\r\n  activeEvent,\r\n  cleanerActive,\r\n  startLoadEvents,\r\n} from \"../../actions/calendar\";\r\nimport { ButtonFloating } from \"../ui/ButtonFloating\";\r\nimport { ButtonDelete } from \"../ui/ButtonDelete\";\r\n\r\nconst localizer = momentLocalizer(moment);\r\nmoment().locale(\"es\");\r\n\r\nexport const CalendarScreen = () => {\r\n  const [lastView, setLastView] = useState(\r\n    localStorage.getItem(\"lastView\") || \"month\"\r\n  );\r\n  const [initDates, setInitDates] = useState({ start: \"\", end: \"\" });\r\n\r\n  const { calendar, ui, auth } = useSelector((state) => state);\r\n  const myEventsList = calendar.events;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(startLoadEvents());\r\n  }, [dispatch]);\r\n\r\n  const eventStyleGetter = (event, start, end, isSelected) => {\r\n    const color = event.user._id === auth.uid ? \"#ffc107\" : \"#E6E6E6\";\r\n    const style = {\r\n      backgroundColor: color,\r\n      border: \"0px\",\r\n      opacity: 0.8,\r\n      color: \"black\",\r\n      textAlign: \"left\",\r\n    };\r\n\r\n    return {\r\n      style,\r\n    };\r\n  };\r\n\r\n  const onSelectEvent = (e) => {\r\n    dispatch(activeEvent(e));\r\n  };\r\n\r\n  const onSelectSlot = (e) => {\r\n    const { start, end } = e;\r\n    setInitDates({ start, end });\r\n    calendar.active ? dispatch(cleanerActive()) : dispatch(openModals());\r\n  };\r\n\r\n  const onDoubleClickEvent = (e) => {\r\n    dispatch(openModals());\r\n  };\r\n\r\n  const onViewChange = (e) => {\r\n    setLastView(e);\r\n    localStorage.setItem(\"lastView\", e);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"container calendar-screen\">\r\n        <Calendar\r\n          localizer={localizer}\r\n          events={myEventsList}\r\n          startAccessor=\"start\"\r\n          endAccessor=\"end\"\r\n          messages={messages}\r\n          eventPropGetter={eventStyleGetter}\r\n          components={{\r\n            event: CalendarEvent,\r\n          }}\r\n          onSelectEvent={onSelectEvent}\r\n          onDoubleClickEvent={onDoubleClickEvent}\r\n          onSelectSlot={onSelectSlot}\r\n          selectable={true}\r\n          onView={onViewChange}\r\n          view={lastView}\r\n        />\r\n\r\n        {calendar.active && !ui.modalOpen && <ButtonDelete />}\r\n        <ButtonFloating />\r\n        <CalendarModal initDates={initDates} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport PrivateRouter from \"./PrivateRouter\";\r\nimport PublicRouter from \"./PublicRouter\";\r\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\r\nimport { CalendarScreen } from \"../components/calendar/CalendarScreen\";\r\nimport { startIsAuth } from \"../actions/auth\";\r\n\r\nexport const AppRouter = () => {\r\n  const dispatch = useDispatch();\r\n  const { cheking, uid } = useSelector((state) => state.auth);\r\n\r\n  useEffect(() => {\r\n    dispatch(startIsAuth());\r\n  }, [dispatch]);\r\n\r\n  if (cheking) return <h1>Cargando...</h1>;\r\n\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Switch>\r\n          <PublicRouter\r\n            path=\"/login\"\r\n            isAuthenticated={!!uid}\r\n            component={LoginScreen}\r\n          />\r\n          <PrivateRouter\r\n            path=\"/\"\r\n            isAuthenticated={!!uid}\r\n            component={CalendarScreen}\r\n          />\r\n          <Redirect to=\"/\" />\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./store/store\";\r\nimport { AppRouter } from \"./router/AppRouter\";\r\n\r\nexport const CalendarApp = () => {\r\n  return (\r\n    <Provider store={store}>\r\n      <AppRouter />\r\n    </Provider>\r\n  );\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { CalendarApp } from \"./CalendarApp\";\nimport \"./styles.css\";\n\nReactDOM.render(<CalendarApp />, document.getElementById(\"root\"));\n"],"sourceRoot":""}